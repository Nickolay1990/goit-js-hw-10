{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nlet userSelectedDate;\nconst btn = document.querySelector('[data-start]');\nconst closeBtn = document.querySelector('.closebtn');\nconst input = document.querySelector('#datetime-picker');\nbtn.disabled = true;\n\nconst options = {\n\tenableTime: true,\n\ttime_24hr: true,\n\tdefaultDate: new Date(),\n\tminuteIncrement: 1,\n\tonClose(selectedDates) {\n\t\tuserSelectedDate = selectedDates[0];\n\t\tconst now = new Date();\n\t\tif (userSelectedDate < now) {\n\t\t\tbtn.disabled = true;\n\t\t\tcreateError();\n\t\t\treturn;\n\t\t}\n\t\tbtn.disabled = false;\n\t},\n};\n\nfunction createError() {\n\tiziToast.error({\n\t\tmessage: 'Please choose a date in the future',\n\t\tmessageColor: '#ffffff',\n\t\tmessageSize: '16px',\n\t\tbackgroundColor: '#ef4040',\n\t\tposition: 'topRight',\n\t});\n}\n\nfunction timerButtonHandler() {\n\tthis.disabled = true;\n\tinput.disabled = true;\n\n\tconst intervalId = setInterval(() => {\n\t\tconst timeData = (userSelectedDate - new Date()) / 1000;\n\t\tif (Math.floor(timeData) / 1000 === 0) {\n\t\t\tclearInterval(intervalId);\n\t\t\tinput.disabled = false;\n\t\t}\n\n\t\tsetTime(convertMs(userSelectedDate - new Date()));\n\t}, 1000);\n}\n\nfunction convertMs(ms) {\n\tconst second = 1000;\n\tconst minute = second * 60;\n\tconst hour = minute * 60;\n\tconst day = hour * 24;\n\n\tconst days = Math.floor(ms / day);\n\tconst hours = Math.floor((ms % day) / hour);\n\tconst minutes = Math.floor(((ms % day) % hour) / minute);\n\tconst seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n\treturn [days, hours, minutes, seconds];\n}\n\nfunction setTime(times) {\n\tconst counters = document.querySelectorAll('.value');\n\ttimes.forEach((time, index) => {\n\t\tcounters[index].textContent = addLeadingZero(time);\n\t});\n}\n\nfunction addLeadingZero(value) {\n\treturn String(value).padStart(2, '0');\n}\n\nflatpickr(input, options);\n\nbtn.addEventListener('click', timerButtonHandler);\n"],"names":["userSelectedDate","btn","input","options","selectedDates","createError","iziToast","timerButtonHandler","intervalId","timeData","setTime","convertMs","ms","days","hours","minutes","seconds","times","counters","time","index","addLeadingZero","value","flatpickr"],"mappings":"2GAKA,IAAIA,EACJ,MAAMC,EAAM,SAAS,cAAc,cAAc,EAChC,SAAS,cAAc,WAAW,EACnD,MAAMC,EAAQ,SAAS,cAAc,kBAAkB,EACvDD,EAAI,SAAW,GAEf,MAAME,EAAU,CACf,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CAGtB,GAFAJ,EAAmBI,EAAc,CAAC,EAE9BJ,EADQ,IAAI,KACY,CAC3BC,EAAI,SAAW,GACfI,IACA,MACA,CACDJ,EAAI,SAAW,EACf,CACF,EAEA,SAASI,GAAc,CACtBC,EAAS,MAAM,CACd,QAAS,qCACT,aAAc,UACd,YAAa,OACb,gBAAiB,UACjB,SAAU,UACZ,CAAE,CACF,CAEA,SAASC,GAAqB,CAC7B,KAAK,SAAW,GAChBL,EAAM,SAAW,GAEjB,MAAMM,EAAa,YAAY,IAAM,CACpC,MAAMC,GAAYT,EAAmB,IAAI,MAAU,IAC/C,KAAK,MAAMS,CAAQ,EAAI,MAAS,IACnC,cAAcD,CAAU,EACxBN,EAAM,SAAW,IAGlBQ,EAAQC,EAAUX,EAAmB,IAAI,IAAM,CAAC,CAChD,EAAE,GAAI,CACR,CAEA,SAASW,EAAUC,EAAI,CAMtB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAC1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EACpCG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EACjDI,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAACC,EAAMC,EAAOC,EAASC,CAAO,CACtC,CAEA,SAASN,EAAQO,EAAO,CACvB,MAAMC,EAAW,SAAS,iBAAiB,QAAQ,EACnDD,EAAM,QAAQ,CAACE,EAAMC,IAAU,CAC9BF,EAASE,CAAK,EAAE,YAAcC,EAAeF,CAAI,CACnD,CAAE,CACF,CAEA,SAASE,EAAeC,EAAO,CAC9B,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACrC,CAEAC,EAAUrB,EAAOC,CAAO,EAExBF,EAAI,iBAAiB,QAASM,CAAkB"}